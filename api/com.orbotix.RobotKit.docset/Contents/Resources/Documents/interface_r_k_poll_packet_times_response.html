<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RobotKit API: RKPollPacketTimesResponse Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RobotKit API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_r_k_poll_packet_times_response-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RKPollPacketTimesResponse Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Response class for polling for transmission time stamps.  
 <a href="interface_r_k_poll_packet_times_response.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_r_k_poll_packet_times_response_8h_source.html">RKPollPacketTimesResponse.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RKPollPacketTimesResponse:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_r_k_poll_packet_times_response.png" usemap="#RKPollPacketTimesResponse_map" alt=""/>
  <map id="RKPollPacketTimesResponse_map" name="RKPollPacketTimesResponse_map">
<area href="interface_r_k_device_response.html" title="Abstract class that represents a response for a command." alt="RKDeviceResponse" shape="rect" coords="0,112,174,136"/>
<area href="interface_r_k_device_message.html" title="A base clase for object that messaged to or from a robot." alt="RKDeviceMessage" shape="rect" coords="0,56,174,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a6d9afc14a936590cc6615c39e134b0cf"><td class="memItemLeft" align="right" valign="top">(NSTimeInterval)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_r_k_poll_packet_times_response.html#a6d9afc14a936590cc6615c39e134b0cf">timeOffset</a></td></tr>
<tr class="separator:a6d9afc14a936590cc6615c39e134b0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb6451e164e1e9081214ee793e2e7fb"><td class="memItemLeft" align="right" valign="top">(NSTimeInterval)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_r_k_poll_packet_times_response.html#a4bb6451e164e1e9081214ee793e2e7fb">timeDelay</a></td></tr>
<tr class="separator:a4bb6451e164e1e9081214ee793e2e7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ab1c1e31ac15bd0ab30af470a911f4fa0"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_r_k_poll_packet_times_response.html#ab1c1e31ac15bd0ab30af470a911f4fa0">commandTransmitTime</a></td></tr>
<tr class="separator:ab1c1e31ac15bd0ab30af470a911f4fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f6b76c79fe1e862a59c3650840e628"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_r_k_poll_packet_times_response.html#a27f6b76c79fe1e862a59c3650840e628">robotReceiveTime</a></td></tr>
<tr class="separator:a27f6b76c79fe1e862a59c3650840e628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f6f9e4dd41bf61bcd68b867f10c6dd"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_r_k_poll_packet_times_response.html#a05f6f9e4dd41bf61bcd68b867f10c6dd">robotTransmitTime</a></td></tr>
<tr class="separator:a05f6f9e4dd41bf61bcd68b867f10c6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_r_k_device_response"><td colspan="2" onclick="javascript:toggleInherit('properties_interface_r_k_device_response')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interface_r_k_device_response.html">RKDeviceResponse</a></td></tr>
<tr class="memitem:a728025b8f235d8ecb6e8b3dbae63fd11 inherit properties_interface_r_k_device_response"><td class="memItemLeft" align="right" valign="top">NSInteger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_r_k_device_response.html#a728025b8f235d8ecb6e8b3dbae63fd11">code</a></td></tr>
<tr class="separator:a728025b8f235d8ecb6e8b3dbae63fd11 inherit properties_interface_r_k_device_response"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f8e328f33c8e6e1377259a405b424e inherit properties_interface_r_k_device_response"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_r_k_device_response.html#a57f8e328f33c8e6e1377259a405b424e">propertiesValid</a></td></tr>
<tr class="separator:a57f8e328f33c8e6e1377259a405b424e inherit properties_interface_r_k_device_response"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interface_r_k_device_message"><td colspan="2" onclick="javascript:toggleInherit('properties_interface_r_k_device_message')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interface_r_k_device_message.html">RKDeviceMessage</a></td></tr>
<tr class="memitem:a48d4b3d990f10951e5405b8361d59862 inherit properties_interface_r_k_device_message"><td class="memItemLeft" align="right" valign="top">NSTimeInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_r_k_device_message.html#a48d4b3d990f10951e5405b8361d59862">timeStamp</a></td></tr>
<tr class="separator:a48d4b3d990f10951e5405b8361d59862 inherit properties_interface_r_k_device_message"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This response to <a class="el" href="interface_r_k_poll_packet_times_command.html" title="Command to request round trip time stamps for time syncing.">RKPollPacketTimesCommand</a> helps the Client application profile the transmission and processing latencies in Sphero so that a relative synchronization of timebases can be performed. This technique is based upon the scheme in the Network Time Protocol (RFC 5905) and allows the Client to reconcile time stamped messages from Sphero to its own time stamped events. In the following discussion, each time interval is from some reference within the device.</p>
<p>The scheme is as follows: the Client sends the command with the Client transmit time (T1). Upon receipt of the packet, the command processor in Sphero copies that time (T2) into the response packet. Just before the transmit engine streams it into the Bluetooth module, the Sphero transmit time (T3) value is added to the response packet. The framework sets in the response object the time (T4) at which the response is received. The relevant time segments can be computed from the four time stamps T1-T4: </p>
<ul>
<li>
The value offset represents the maximum-likelihood time offset of the Client clock to Sphero's system clock. offset = 1/2 * [(T2 - T1) + (T3 - T4)] </li>
<li>
The value delay represents the round-trip delay between the Client and Sphero: delay = (T4 - T1) - (T3 - T2) </li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interface_r_k_poll_packet_times_command.html" title="Command to request round trip time stamps for time syncing.">RKPollPacketTimesCommand</a> </dd>
<dd>
<a class="el" href="interface_r_k_device_messenger.html" title="Singleton to provide a messaging framework for command and responses.">RKDeviceMessenger</a> </dd></dl>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a4bb6451e164e1e9081214ee793e2e7fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) timeDelay </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A value in seconds for the delay from sending a command and receiving it's response. </dd></dl>

</div>
</div>
<a class="anchor" id="a6d9afc14a936590cc6615c39e134b0cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) timeOffset </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A value in seconds for the offset between the controlling device's clock and the robot's clock. </dd></dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="ab1c1e31ac15bd0ab30af470a911f4fa0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) commandTransmitTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The controller device's transmit time stamp in seconds in it's time reference. </dd></dl>

</div>
</div>
<a class="anchor" id="a27f6b76c79fe1e862a59c3650840e628"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) robotReceiveTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The robot's receive time stamp in seconds in it's time reference. </dd></dl>

</div>
</div>
<a class="anchor" id="a05f6f9e4dd41bf61bcd68b867f10c6dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSTimeInterval) robotTransmitTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">nonatomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The robot's transmit time stamp in seconds in it's time reference. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>RobotKit/<a class="el" href="_r_k_poll_packet_times_response_8h_source.html">RKPollPacketTimesResponse.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 7 2012 14:43:12 for RobotKit API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
